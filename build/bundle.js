module.exports=function(e){var t={};function n(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){var s=n(14),a=n(9),o=n(12),r=n(8),i=n(11),c=new(n(13)),l=n(10),d=n(6),u=n(2),p=n(4),h=n(3),m=n(5);c.use(function(e,t,n){var a=e.get("x-forwarded-proto");e.get("x-forwarded-port");e.baseUrl=[a?a.split(",")[0].trim():"https","://",e.get("host"),s.parse(e.originalUrl).pathname].join(""),e.audience="https://"+e.webtaskContext.data.AUTH0_DOMAIN+"/api/v2/",n()}),c.get("/",function(e,t){t.redirect([e.webtaskContext.data.AUTH0_RTA||"https://auth0.auth0.com","/authorize","?client_id=",e.baseUrl,"&response_type=token&expiration=86400000&response_mode=form_post","&scope=",encodeURIComponent("openid profile"),"&redirect_uri=",e.baseUrl,"&audience=",e.audience,"&nonce="+encodeURIComponent(l.randomBytes(16).toString("hex"))].join(""))}),c.get("/.well-known/oauth2-client-configuration",function(e,t){t.json({redirect_uris:[e.baseUrl.replace("/.well-known/oauth2-client-configuration","")],client_name:"Auth0 Extension",post_logout_redirect_uris:[e.baseUrl.replace("/.well-known/oauth2-client-configuration","")]})}),c.post("/",a.urlencoded({extended:!1}),o({secret:r({strictSSL:!0}),algorithms:["RS256"],getToken:function(e){return e.body.access_token}}),function(e,t){e.user.aud===e.audience||Array.isArray(e.user.aud)&&e.user.aud.indexOf(e.audience)>-1?t.send(i.render(p,{a0Token:e.body.access_token,token:e.x_wt.token,container:e.x_wt.container,baseUrl:e.baseUrl,rta:e.webtaskContext.data.AUTH0_RTA||"https://auth0.auth0.com",manageUrl:e.webtaskContext.data.AUTH0_MANAGE_URL,webtaskAPIUrl:d.resolveWebtaskAPIHost(e.get("host"),e.webtaskContext)})):(t.status(403),t.send(i.render(m,{baseUrl:e.baseUrl})))}),c.get("/meta",function(e,t){t.json(u)}),c.get("/logout",function(e,t){t.send(i.render(h,{container:e.x_wt.container,baseUrl:e.baseUrl}))}),c.use(function(e,t,n,s){return e&&e.status?(n.status(e.status),n.json({error:e.code||e.name,message:e.message||e.name})):(n.status(500),n.json({error:"InternalServerError",message:e.message||e.name}))}),e.exports=c},function(e,t){e.exports=require("webtask-tools")},function(e,t){e.exports={title:"Real-time Webtask Logs",name:"auth0-extension-realtime-logs",version:"1.3.4",preVersion:"1.3.3",author:"Auth0, Inc",description:"Access real-time webtask logs",type:"application",repository:"https://github.com/auth0/auth0-extension-realtime-logs",docsUrl:"https://auth0.com/docs/extensions/realtime-webtask-logs",logoUrl:"https://cdn.auth0.com/extensions/auth0-extension-realtime-logs/assets/logo.svg",keywords:["auth0","extension","webtask","logs","real-time"]}},function(e,t){e.exports='<!DOCTYPE html5>\n<html>\n  <head>\n    <script>\n      sessionStorage.removeItem(\'token\');\n      window.location.href = \'https://auth0.auth0.com/logout?returnTo=<%- baseUrl.replace("logout", "/")%>&client_id=<%- baseUrl.replace("logout", "/")%>\';\n    <\/script>\n  </head>\n  <body></body>\n</html>'},function(e,t){e.exports='<!DOCTYPE html5>\n<html>\n  <head>\n    <meta charset="utf-8"/>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>\n    <meta name="viewport" content="width=device-width, initial-scale=1"/>\n    <link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/2.0.1/lib/logos/img/favicon.png" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.973/css/index.min.css" />\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/3.1.6/index.css">\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/webtask-editor/styles/1/wt-editor.min.css">\n    <script type="text/javascript" src="https://cdn.auth0.com/auth0-extend/components/2/extend-editor-logs.js"><\/script>\n    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"><\/script>\n    <script type="text/javascript" src="https://fb.me/react-0.14.0.min.js"><\/script>\n    <script type="text/javascript" src="https://fb.me/react-dom-0.14.0.js"><\/script>\n    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"><\/script>\n    <script type="text/javascript" src="https://cdn.auth0.com/js/jwt-decode-1.4.0.min.js"><\/script>\n    <script type="text/javascript" src="https://cdn.auth0.com/js/navbar-1.0.4.min.js"><\/script>\n    <title>Logs of <%= container %></title>\n    <style>\n        body, html {\n          height: 100vh;\n          width: 100vw;\n          display: flex;\n          flex-direction: column;\n          padding-bottom: 0;\n        }\n\n        .header {\n          flex: 0 0 100px;\n        }\n        .body {\n          flex: 1;\n        }\n        .container {\n          min-width: 100%;\n        }\n\n        .logs {\n          flex: 1;\n        }\n\n        .message {\n          position: absolute;\n          z-index: 1000;\n          width: 100%;\n          top: 100px;\n          display: none;\n        }\n\n        .message div {\n          height: 75px;\n          width: 250px;\n          background: #707070;\n          vertical-align: middle;\n          margin-left: auto;\n          margin-right: auto;\n          line-height: 71px;\n          border-radius: 3px;\n          text-align: center;\n        }\n\n        .wt-close {\n          display: none;\n        }\n    </style>\n    <script type="text/javascript">\n      sessionStorage.setItem(\'token\', \'<%- a0Token %>\');\n    <\/script>\n  </head>\n  <body class="a0-extension">\n    <header class="dashboard-header">\n      <nav role="navigation" class="navbar navbar-default">\n        <div class="container">\n          <div class="navbar-header">\n            <h1 class="navbar-brand">\n              <a href="<%- manageUrl %>"><span>Auth0</span></a>\n            </h1>\n          </div>\n          <div id="navbar-collapse" class="collapse navbar-collapse">\n            <script type="text/babel">\n              ReactDOM.render(\n                <Navbar baseUrl="<%- baseUrl%>" domain=\'<%- rta %>\'/>,\n                document.getElementById(\'navbar-collapse\')\n              );\n            <\/script>\n          </div>\n        </div>\n      </nav>\n    </header>\n\n    <div class="container extension-header">\n      <div class="row">\n        <section class="content-page current">\n          <div class="col-xs-12">\n            <div class="row">\n              <div class="col-xs-12 content-header">\n                <ol class="breadcrumb">\n                  <li><a href="<%- manageUrl %>" target="_blank">Auth0 Dashboard</a>\n                  </li>\n                  <li><a href="<%- manageUrl %>/#/extensions" target="_blank">Extensions</a>\n                  </li>\n                </ol>\n              </div>\n            </div>\n          </div>\n        </section>\n        <div id="content-area">\n          <div class="col-xs-12 wrapper">\n            <section class="content-page current">\n              <div class="content-header">\n                <h1>Real-time Webtask Logs</h1>\n                <button class="btn btn-default pull-right js-full-screen">Full Screen Mode</button>\n              </div>\n            </section>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="message"><div>Press ESC to exit full screen mode</div></div>\n    <div id="widget_container" class="logs"></div>\n    <script>\n      ExtendEditorLogsComponent.show(document.getElementById(\'widget_container\'), {\n        token: \'<%- token %>\',\n        hostUrl: \'<%- webtaskAPIUrl %>\',\n        theme: \'dark\'\n      });\n\n      $(\'.js-full-screen\').on(\'click\', function () {\n        $(\'.dashboard-header\').hide();\n        $(\'.extension-header\').hide();\n        $(\'body\').attr(\'style\', \'padding-top: 0;\');\n        $(\'.message\').show();\n\n        setTimeout(function() {\n          $(\'.message\').fadeOut(\'slow\');\n        }, 1500);\n      });\n\n      $(document).keyup(function(e) {\n        if (e.keyCode === 27) {\n         $(\'.dashboard-header\').show();\n         $(\'.extension-header\').show();\n         $(\'body\').removeAttr(\'style\');\n        }\n      });\n    <\/script>\n  </body>\n</html>'},function(e,t){e.exports='<!DOCTYPE html5>\n<html>\n  <head>\n    <meta charset="utf-8"/>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>\n    <meta name="viewport" content="width=device-width, initial-scale=1"/>\n    <link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/2.0.1/lib/logos/img/favicon.png">\n    <link href="https://cdn.auth0.com/styleguide/latest/index.css" rel="stylesheet" />\n    <title>Access denied</title>\n  </head>\n  <body>\n    <div class="container">\n      <div class="row text-center">\n        <h1><a href="https://auth0.com" title="Go to Auth0!"><img src="https://cdn.auth0.com/styleguide/1.0.0/img/badge.svg" alt="Auth0 badge" /></a></h1>\n        <h1>Not authorized</h1>\n        <p><a href="https://auth0.auth0.com/logout?returnTo=<%- baseUrl %>">Log out from Auth0 and try again</a></p>\n      </div>\n    </div>\n  </body>\n</html>'},function(e,t){e.exports={resolveWebtaskAPIHost:function(e,t){if(e.indexOf(".us.webtask.io")>0)return"https://sandbox.it.auth0.com";if(e.indexOf(".au.webtask.io")>0)return"https://sandbox-au.it.auth0.com";if(e.indexOf(".eu.webtask.io")>0)return"https://sandbox-eu.it.auth0.com";if(e.indexOf(".us8.webtask.io")>0)return"https://sandbox8-us.it.auth0.com";if(e.indexOf(".au8.webtask.io")>0)return"https://sandbox8-au.it.auth0.com";if(e.indexOf(".eu8.webtask.io")>0)return"https://sandbox8-eu.it.auth0.com";var n=t.secrets.WT_URL;return n&&n.indexOf("api/run")>=0?t.secrets.WT_URL.split("/api")[0]:"https://"+e}}},function(e,t,n){var s=n(1);e.exports=s.fromExpress(n(0))},function(e,t){e.exports=require("auth0-api-jwt-rsa-validation@0.0.1")},function(e,t){e.exports=require("body-parser@1.12.4")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("ejs@2.3.1")},function(e,t){e.exports=require("express-jwt@3.1.0")},function(e,t){e.exports=require("express@4.14.0")},function(e,t){e.exports=require("url")}]);
